# Linux Commands Guide

## 1. Navigation & File System

### Directory Operations

- `pwd` - Print working directory

  - Example: `pwd` → Shows `/home/user/documents`

- `cd` - Change directory

  - `cd ..` - Go up one level (from documents to user)
  - `cd ~` - Go to your home directory
  - `cd documents` - Go into documents folder
  - `cd /home/user/documents` - Go to specific location
  - Example path structure:
    ```
    /home/user/
        ├── documents/
        ├── downloads/
        └── pictures/
    ```

- `ls` - List files and folders
  - `ls` - Basic list
  - `ls -l` - Detailed list (shows permissions, size, date)
  - `ls -a` - Show hidden files (files starting with .)
  - `ls -i` - Show inode number (the id of the file)
  - Example:
    ```bash
    $ ls -l
    drwxr-xr-x 2 user user 4096 Dec 8 10:00 documents
    -rw-r--r-- 1 user user  123 Dec 8 09:55 note.txt
    ```

### File Operations

- `touch` - Create empty file

  - Example: `touch myfile.txt`

- `mkdir` - Create directory

  - Example: `mkdir my_folder`

- `rmdir` - Remove empty directory

  - Example: `rmdir my_empty_folder`

- `cp` - Copy files/directories

  - Example: `cp file.txt backup_file.txt`
  - Copy folder: `cp -r folder backup_folder`

- `mv` - Move or rename files

  - Move: `mv file.txt documents/`
  - Rename: `mv oldname.txt newname.txt`

- `rm` - Remove files
  - Remove file: `rm file.txt`
  - Remove folder: `rm -r folder`
  - Force remove: `rm -rf folder` (be careful!)

## 2. File Content

### Reading Files

- `cat` - Show file content

  - Show: `cat file.txt`
  - Combine files: `cat file1.txt file2.txt > combined.txt`
  - Add to file: `cat file1.txt >> file2.txt`

- `head` - Show first 10 lines

  - Example: `head file.txt`
  - Show 5 lines: `head -n 5 file.txt`

- `tail` - Show last 10 lines

  - Example: `tail file.txt`
  - Show last 5 lines: `tail -n 5 file.txt`

## 3. File Permissions

### Ownership and Permission Management

- `chmod` - Change file/directory permissions

  - Make file executable: `chmod +x script.sh`
  - Give full permissions: `chmod 777 file.txt`

  ```bash
  Permission numbers:
  4 = read (r)
  2 = write (w)
  1 = execute (x)
  Example: chmod 755 file.txt
  7 (rwx) for owner
  5 (r-x) for group
  5 (r-x) for others
  ```

- `chown` - Change file/directory owner

  - Change owner: `chown username file.txt`
  - Change owner and group: `chown username:groupname file.txt`
  - Recursive change: `chown -R username:groupname directory/`
  - Example:
    ```bash
    # Change file owner to 'john'
    $ chown john report.txt
    # Change owner and group for entire directory
    $ chown -R john:developers project/
    ```

- `chgrp` - Change file/directory group

  - Change group: `chgrp groupname file.txt`
  - Recursive change: `chgrp -R groupname directory/`
  - Example:
    ```bash
    # Change file group to 'developers'
    $ chgrp developers project.txt
    # Change group for all files in directory
    $ chgrp -R developers documents/
    ```

- `umask` - Sets the default permissions for newly created files and directories.

  It works by masking (subtracting) permissions from a base value:

- For files: Base permission is 666 (rw-rw-rw-)
- For directories: Base permission is 777 (rwxrwxrwx)

#### How umask Works:

1. The umask value is subtracted from the base permissions
2. Common umask values:
   - `022`: Most common on Linux systems
   - `002`: Common in collaborative environments
   - `077`: Highly restrictive, for security-sensitive environments

#### Examples:

With umask 022:

```bash
Base file permission:       666 (rw-rw-rw-)
umask value:               022 (----w--w-)
                          ───
Resulting permission:      644 (rw-r--r--)

Base directory permission: 777 (rwxrwxrwx)
umask value:              022 (----w--w-)
                         ───
Resulting permission:     755 (rwxr-xr-x)
```

With umask 002:

```bash
Base file permission:       666 (rw-rw-rw-)
umask value:               002 (------w--)
                          ───
Resulting permission:      664 (rw-rw-r--)

Base directory permission: 777 (rwxrwxrwx)
umask value:              002 (------w--)
                         ───
Resulting permission:     775 (rwxrwxr-x)
```

#### Common Usage:

```bash
# View current umask
$ umask
0022

# Set a new umask value
$ umask 002

# Create test files to see the effect
$ touch testfile
$ mkdir testdir
$ ls -l
total 4
drwxrwxr-x 2 user group 4096 Dec 9 14:00 testdir
-rw-rw-r-- 1 user group    0 Dec 9 14:00 testfile
```

### Key Points:

- `chmod` changes permissions
- `chown` changes file/directory owner
- `chgrp` changes file/directory group
- `umask` sets default creation permissions

## 4. Useful Text Commands

- `wc` - Count things in a file

  - Basic syntax: `wc [options] filename`
  - Common options:
    - `wc filename` - Shows lines, words, and characters
    - `wc -l filename` - Count only lines
    - `wc -w filename` - Count only words
    - `wc -c filename` - Count only characters
  - Example:
    ```bash
    $ echo "hello world" > greeting.txt
    $ wc greeting.txt
    1 2 11 greeting.txt
    # This means: 1 line, 2 words, 11 characters
    ```

- `cut` - Get parts of each line

  - Basic syntax: `cut [options] filename`
  - Cut by character position:
    - `cut -c 1 filename` - Get first character
    - `cut -c 1-3 filename` - Get first three characters
    - `cut -c 2- filename` - Get from second character to end
  - Cut by delimiter (space, tab, etc.):
    - `cut -d " " -f 1 filename` - Get first word (space-separated)
    - `cut -d " " -f 2 filename` - Get second word
    - `-d` sets the delimiter (what separates the fields)
    - `-f` selects which fields to show
  - Examples:
    ```bash
    $ echo "hello world today" > words.txt
    # Get by character position
    $ cut -c 1-3 words.txt
    hel
    # Get by word position (space-separated)
    $ cut -d " " -f 1 words.txt
    hello
    $ cut -d " " -f 2 words.txt
    world
    ```

- `grep` - Find text inside files

  - Basic syntax: `grep [options] "pattern" filename`
  - Common options:
    - `grep "word" filename` - Find lines containing "word"
    - `grep -i "word" filename` - Find "word" (ignore upper/lowercase)
    - `grep -n "word" filename` - Show line numbers
    - `grep -v "word" filename` - Show lines that DON'T have "word"
    - `grep -r "word" directory/` - Search recursively in all files
  - Pattern matching:
    - `grep "^word" filename` - Lines starting with "word"
    - `grep "word$" filename` - Lines ending with "word"
    - `grep "word.*another" filename` - "word" followed by "another"
    - `grep "[0-9]" filename` - Any single digit
    - `grep "[a-zA-Z]" filename` - Any single letter
  - Examples:

    ```bash
    $ echo "Hello World" > greeting.txt
    $ echo "hello friend" >> greeting.txt
    $ echo "Goodbye World" >> greeting.txt
    $ echo "123 testing" >> greeting.txt

    # Find exact match
    $ grep "Hello" greeting.txt
    Hello World

    # Find ignoring case
    $ grep -i "hello" greeting.txt
    Hello World
    hello friend

    # Show line numbers
    $ grep -n "Hello" greeting.txt
    1:Hello World

    # Show lines excluding match
    $ grep -v "friend" greeting.txt
    Hello World
    Goodbye World
    123 testing

    # Lines starting with "Hello"
    $ grep "^Hello" greeting.txt
    Hello World

    # Lines ending with "World"
    $ grep "World$" greeting.txt
    Hello World
    Goodbye World

    # Lines containing numbers
    $ grep "[0-9]" greeting.txt
    123 testing
    ```

- `find` - Search for files in directory hierarchy

  - Basic syntax: -`find [path] [options] [expression]`

  - Find by name:
    - `find . -name "*.txt"` - Find files matching pattern
    - `find . -iname "*.txt"` - Find files matching pattern (ignore case)
  - Find by type:
    - `find . -type d` - Find directories
    - `find . -type f` - Find regular files
  - Find by owner: `find . -user username`
  - Find by permissions: `find . -perm 666`
  - Find by size:
    - `find . -size +10M` - Files larger than 10 MB
    - `find . -size -10M` - Files smaller than 10 MB
  - Example:

    ```bash
    # Find all PDF files (ignore case) in current directory
    $ find . -iname "*.pdf"
    ./documents/Report.PDF
    ./backup/old.pdf

    # Find large files owned by current user
    $ find . -user $(whoami) -size +100M
    ./videos/movie.mp4
    ```

## 5. Pattern Matching (Globbing) with Examples

**Globbing** (wildcard matching) used in shell commands like `ls`, `find`, `rm`, `touch` etc.:

**Note:** grep uses **regex**(regular expressions) in search patterns so do not confuse it with Globbing

- `*` - Match any characters

  - `ls *.txt` - List all text files
  - `ls doc*` - List everything starting with "doc"
  - Example:
    ```bash
    $ ls
    doc1.txt document.pdf docx.doc summary.txt
    $ ls doc*
    doc1.txt document.pdf docx.doc
    ```

- `?` - Match single character

  - `ls file?.txt` - Matches file1.txt, fileA.txt, but not file10.txt
  - Example:
    ```bash
    $ ls
    file1.txt fileA.txt file10.txt
    $ ls file?.txt
    file1.txt fileA.txt
    ```

- `[]` - Match any character inside brackets
  - `ls [abc]*.txt` - Files starting with a, b, or c
  - Example:
    ```bash
    $ ls
    apple.txt banana.txt carrot.txt dog.txt
    $ ls [abc]*.txt
    apple.txt banana.txt carrot.txt
    ```
- `[! ]` - (Negation) Matches any character except those inside the brackets.

  - ls file[!1].txt - Matches file2.txt, fileA.txt, but not file1.txt
  - Example:
    ```bash
    $ ls
    file1.txt file2.txt fileA.txt
    $ ls file[!1].txt
    file2.txt fileA.txt
    ```

- `{}` - Matches any of the comma-separated patterns inside the braces.

  - `ls file{1,2,3}.txt` - Matches file1.txt, file2.txt, file3.txt
  - Example:
    ```bash
    $ ls file{1,2,3}.txt
    file1.txt file2.txt file3.txt
    ```

### Example Usage:

```bash
ls *.txt       # Matches all .txt files
ls file?.txt   # Matches file1.txt, fileA.txt, etc.
ls file[1-3].txt # Matches file1.txt, file2.txt, file3.txt
ls file[!1].txt  # Matches file2.txt, fileA.txt, but not file1.txt
ls file{1,2,3}.txt # Matches file1.txt, file2.txt, file3.txt
```

## Tips:

0. Use `sudo` to run a command as a super user
1. Use Tab for auto-completion
2. Use up/down arrows to see command history
3. Use `history` command to see all previous commands
4. Use `man` command to when you need to know a commmand synthax (Example: `man ls`)
5. For a way better `man` for personal use, install and use `tldr` instead (Example: `tldr ls`)
6. Use AI (Example: chatgpt) If you do not understand a command, just ask chatgpt or other AI or just run it in the terminal and notice the difference
