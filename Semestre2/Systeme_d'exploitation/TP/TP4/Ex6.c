#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int    sum = 0;
int    n;
char** tab;

void* calculateSum(void* arg)
{
    for (int i = 0; i < n; i++)
    {
        sum += atoi(tab[i]);
    }
    pthread_exit(0);
}

int main(int argc, char** argv)
{
    pthread_t th1;
    n   = argc - 1;
    tab = argv + 1;
    if (pthread_create(&th1, NULL, calculateSum, NULL))
    {
        fprintf(stderr, "pthread_create failed\n");
        exit(1);
    }

    if (pthread_join(th1, NULL))
    {
        fprintf(stderr, "pthread_join failed\n");
        exit(1);
    }
    printf("sum = %d\n", sum);
    pthread_exit(0);
}
