#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <unistd.h>

// disclaimer
// this is my version of the solution and it simply works and correct
// but it may not be the same as the teacher solution
int main() {
    for (int i = 0; i < 10; i++) {
        // "if (fork()==0)", is like saying "if (you are the child)"
        if (fork() == 0) {
            // each child prints i (its order number) ten times
            for (int j = 0; j < 10; j++) {
                printf("%d", i);
            }
            // each child exits after doing its work to avoid making unintended children
            exit(0);
        }
    }
    // wait for all 10 children to finish execution to avoid orphants and zombies
    for (int i = 0; i < 10; i++)
        wait(NULL);
}
