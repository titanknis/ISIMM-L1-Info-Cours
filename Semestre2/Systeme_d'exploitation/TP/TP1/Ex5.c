#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <unistd.h>

// disclaimer
// this is my version of the solution and it simply works and correct
// but it may not be the same as the teacher solution
int main(int argc, char** argv) {
    if (argc < 2)
        printf("at least 1 Parameter is required\n");
    else {
        int i, n = atoi(argv[1]);
        for (i = 0; i < n; i++)
            if (fork() == 0) {
                printf("ID: %d :My PID: %d ,My father PID: %d\n", i + 1, getpid(), getppid());
                exit(0);
            }

        // wait for all 10 children to finish execution to avoid orphants and zombies
        for (i = 0; i < n; i++)
            wait(NULL);
    }
    return 0;
}
