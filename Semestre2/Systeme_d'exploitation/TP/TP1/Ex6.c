#include <stdio.h>
#include <stdlib.h>
#include <sys/wait.h>
#include <unistd.h>

// disclaimer
// this is my version of the solution and it simply works and correct
// but it may not be the same as the teacher solution
int main(int argc, char** argv) {
    if (argc < 2)
        printf("at least 1 Parameter is required\n");
    else {
        int i, n = atoi(argv[1]);
        for (i = 0; i < n; i++) {
            if (fork()) {
                wait(NULL);
                printf("ID: %d :My PID: %d ,My father PID: %d\n", i, getpid(), getppid());
                exit(0);
            }
        }
        printf("ID: %d i am the youngest child:My PID: %d ,My father PID: %d\n",
               i,
               getpid(),
               getppid());
    }
    return 0;
}
