#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

int main() {
    int   compt = 0;
    pid_t pid_fils1, pid_fils2;
    printf("1-Compteur= %d \n", compt);
    pid_fils1 = fork();
    if (pid_fils1 == -1) {
        printf("Erreur");
        return (1);
    }
    if (pid_fils1 == 0) {
        compt++;
        printf("2-Compteur= %d\n", compt);
        pid_fils2 = fork();
        if (pid_fils2 == -1) {
            printf("Erreur");
            return (1);
        }
        if (pid_fils2 == 0) {
            compt++;
            printf("3-Compteur %d\n", compt);
        }

    } else {
        compt--;
        printf("4-Compteur %d\n", compt);
    }
}
